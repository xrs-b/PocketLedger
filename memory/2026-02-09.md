# 移动账本项目 - 需求收集完成

> 日期: 2026-02-09
> 状态: 准备开始开发

---

## 项目概述

开发移动端记账应用，支持日常记账 + 项目记账，部署在 Ubuntu VPS 云服务器。

---

## 需求汇总

### 1. 数据结构
- **日常记账**: 随时记录，独立数据
- **项目记账**: 有时间范围（开始/结束日期）、预算、人数，自动计算人均费用
- **关联逻辑**: 项目期间产生的消费既显示在日常记账中，也关联到项目详情

### 2. 用户系统
- **邀请码**: vip1123 (固定)
- **首个用户**: 自动成为管理员 (is_admin = TRUE)
- **字段**: username, password_hash, is_admin, is_active, created_at

### 3. 二级分类
- **支出**: 10个一级分类 (餐饮、交通、购物、娱乐、住房、通讯、人情、医疗、教育、其他)
- **收入**: 4个一级分类 (工资、副业、投资、其他)
- **总计**: 14个一级 + 44个二级分类
- **部署时**: 自动初始化数据库

### 4. 统计报表
- **筛选条件**: 日期范围 + 分类筛选
- **数据来源**: 日常记账 + 项目关联记账 (交叉统计)
- **图表**: 收支趋势折线图、分类占比饼图

### 5. 后端管理
- **访问控制**: 只有管理员可访问 /admin
- **功能**: 用户管理、记账列表、分类管理、项目列表 (CRUD)

### 6. 用户体验
- **移动端适配**: 禁止横向滚动，完美适配手机
- **设计风格**: 有设计感 (阴影、圆角、渐变)，拒绝扁平化
- **交互提示**: 成功/失败/加载都有 Toast 提示
- **返回按钮**: 二级页面左上角必须有返回

---

## 技术选型

### 前端
- Vue 3 + Vite
- Element Plus (移动端适配)
- Pinia + ECharts

### 后端
- Python 3.12 + FastAPI
- SQLAlchemy + Pydantic
- SQLite (简化部署)

### 部署
- Docker + Docker Compose
- Nginx 反向代理
- Ubuntu VPS

---

## 设计文档

| 文档 | 位置 |
|------|------|
| 完整设计 | `docs/plans/mobile-ledger/COMPLETE_DESIGN.md` |
| 实现计划 | `docs/plans/mobile-ledger/IMPLEMENTATION_PLAN.md` |
| 分类设计 | `docs/plans/mobile-ledger/CATEGORIES.md` |

---

## 实现计划 (8个Phase)

1. **Phase 1**: 项目基础框架
2. **Phase 2**: 用户认证系统
3. **Phase 3**: 分类系统
4. **Phase 4**: 日常记账
5. **Phase 5**: 项目记账
6. **Phase 6**: 统计报表
7. **Phase 7**: 后端管理
8. **Phase 8**: 部署配置

---

## 待办

- [x] 创建 GitHub 仓库 (MyLedger, 公开) | 2026-02-09 00:45
- [x] 推送代码到 GitHub | 2026-02-09 00:45
- [x] 创建完整需求文档 PROJECT_SPEC.md | 2026-02-09 00:47
- [x] 创建 Phase 1 实现计划 | 2026-02-09 00:50
- [ ] 开始 Phase 1: 项目基础框架 | 待开始

---

*最后更新: 2026-02-09*
